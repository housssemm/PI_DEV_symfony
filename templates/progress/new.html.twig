{% extends 'base.html.twig' %}

{% block title %}Partager ma progression
{% endblock %}

{% block body %}
	<div class="progress-form-container">
		<div class="progress-form-header">
			<h1>Partager ma progression</h1>
			<p>Partagez votre parcours et inspirez la communauté</p>
		</div>

		{{ form_start(form, {'attr': {'class': 'progress-form'}}) }}
		<div class="form-group">
			{{ form_label(form.title) }}
			{{ form_widget(form.title, {'attr': {'class': 'form-control'}}) }}
			{{ form_errors(form.title) }}
		</div>

		<div class="form-group">
			{{ form_label(form.content) }}
			{{ form_widget(form.content, {'attr': {'class': 'form-control', 'rows': 5}}) }}
			{{ form_errors(form.content) }}
		</div>

		<div class="form-row">
			<div class="form-group">
				{{ form_label(form.currentWeight) }}
				{{ form_widget(form.currentWeight, {'attr': {'class': 'form-control'}}) }}
				{{ form_errors(form.currentWeight) }}
			</div>

			<div class="form-group">
				{{ form_label(form.goalWeight) }}
				{{ form_widget(form.goalWeight, {'attr': {'class': 'form-control'}}) }}
				{{ form_errors(form.goalWeight) }}
			</div>
		</div>

		<div class="form-row">
			<div class="form-group">
				{{ form_label(form.beforeImage) }}
				{{ form_widget(form.beforeImage, {'attr': {'class': 'form-control'}}) }}
				{{ form_errors(form.beforeImage) }}
				<small class="form-text text-muted">Format accepté : JPG, PNG. Taille max : 5MB</small>
			</div>

			<div class="form-group">
				{{ form_label(form.afterImage) }}
				{{ form_widget(form.afterImage, {'attr': {'class': 'form-control'}}) }}
				{{ form_errors(form.afterImage) }}
				<small class="form-text text-muted">Format accepté : JPG, PNG. Taille max : 5MB</small>
			</div>
		</div>

		<div class="form-group">
			{{ form_widget(form.isPublic) }}
			{{ form_label(form.isPublic) }}
			{{ form_errors(form.isPublic) }}
		</div>

		<div class="form-actions">
			<button type="submit" class="btn btn-primary">Publier ma progression</button>
			<a href="{{ path('app_progress_index') }}" class="btn btn-secondary">Annuler</a>
		</div>
		{{ form_end(form) }}
	</div>
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	<style>
		.progress-form-container {
			max-width: 800px;
			margin: 0 auto;
			padding: 2rem;
		}

		.progress-form-header {
			text-align: center;
			margin-bottom: 2rem;
		}

		.progress-form-header h1 {
			color: var(--primary-color);
			font-size: 2.5rem;
			margin-bottom: 0.5rem;
		}

		.progress-form-header p {
			color: var(--text-muted);
			font-size: 1.1rem;
		}

		.progress-form {
			background: var(--bg-card);
			padding: 2rem;
			border-radius: 15px;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
		}

		.form-group {
			margin-bottom: 1.5rem;
		}

		.form-row {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 1rem;
			margin-bottom: 1.5rem;
		}

		.form-group label {
			display: block;
			color: var(--text-light);
			margin-bottom: 0.5rem;
			font-weight: 500;
		}

		.form-control {
			width: 100%;
			padding: 0.75rem;
			border: 1px solid var(--border-color);
			border-radius: 8px;
			background: var(--bg-dark);
			color: var(--text-light);
			transition: border-color 0.3s ease;
		}

		.form-control:focus {
			border-color: var(--primary-color);
			outline: none;
		}

		.form-text {
			display: block;
			margin-top: 0.5rem;
			font-size: 0.9rem;
		}

		.form-actions {
			display: flex;
			gap: 1rem;
			margin-top: 2rem;
		}

		.btn {
			padding: 0.75rem 1.5rem;
			border: none;
			border-radius: 8px;
			font-weight: 500;
			cursor: pointer;
			transition: all 0.3s ease;
		}

		.btn-primary {
			background: var(--primary-color);
			color: white;
		}

		.btn-primary:hover {
			background: var(--primary-color-dark);
		}

		.btn-secondary {
			background: var(--bg-dark);
			color: var(--text-light);
		}

		.btn-secondary:hover {
			background: var(--bg-darker);
		}

		.form-error {
			color: #dc3545;
			font-size: 0.9rem;
			margin-top: 0.5rem;
		}

		@media(max-width: 768px) {
			.form-row {
				grid-template-columns: 1fr;
			}

			.form-actions {
				flex-direction: column;
			}

			.btn {
				width: 100%;
			}
		}
	</style>
{% endblock %}
